(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1128ebda"],{"05e2":function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return u})),r.d(t,"e",(function(){return o})),r.d(t,"d",(function(){return s})),r.d(t,"c",(function(){return c}));var n=r("bc3a"),a=r.n(n);function i(e,t){return a()({method:"get",url:"/api/deliveries/"+e,data:t})}function u(e,t){return a()({method:"get",url:"/api/deliveries/status/"+e,data:t})}function o(e,t){return a()({method:"put",url:"/api/deliveries/"+e,data:t})}function s(e,t){return a()({method:"put",url:"/api/deliveries/"+e+"/status",data:t})}function c(e,t){return a()({method:"put",url:"/api/deliveries/"+e+"/invoice_n_company",data:t})}},2409:function(e,t,r){"use strict";r.d(t,"b",(function(){return i})),r.d(t,"a",(function(){return u})),r.d(t,"c",(function(){return o}));var n=r("bc3a"),a=r.n(n);function i(e,t){return a()({method:"get",url:"/api/payments/"+e,data:t})}function u(e,t){return a()({method:"get",url:"/api/payments/status/"+e,data:t})}function o(e,t){return a()({method:"put",url:"/api/payments/"+e+"/status",data:t})}},a6c9:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-container"},[r("CCard",[r("CCardHeader",[r("strong",[e._v("결제 완료 리스트")])]),r("CCardBody",[r("CDataTable",{attrs:{items:e.items,fields:e.fields,"items-per-page":e.perPage,hover:"",sorter:"","table-filter":"",pagination:e.$options.paginationProps,"index-column":""},scopedSlots:e._u([{key:"order_id",fn:function(t){var n=t.item;return[r("td",[r("CLink",{on:{click:function(t){return e.rowClicked(n)}}},[e._v(" "+e._s(n.order_id)+" ")])],1)]}},{key:"amount",fn:function(t){var n=t.item;return[r("td",[e._v(" "+e._s(e.numberWithCommas(n.tot_price))+" ")])]}},{key:"payment_status",fn:function(t){var n=t.item;return[r("td",[r("CBadge",{attrs:{color:e.getBadge(n.payment_status)}},[e._v(" "+e._s(1===n.payment_status?"결제대기":2===n.payment_status?"결제완료":3===n.payment_status?"주문취소":"환불완료")+" ")])],1)]}},{key:"registered",fn:function(t){var n=t.item;return[r("td",[e._v(" "+e._s(e.getDate(n.registered))+" ")])]}},{key:"show_details",fn:function(t){var n=t.item;return[r("td",[r("CInput",{attrs:{placeholder:"배송회사 입력",size:"sm",type:"text",autocomplete:"off"},model:{value:n.delivery_company,callback:function(t){e.$set(n,"delivery_company",t)},expression:"item.delivery_company"}}),r("CInput",{attrs:{placeholder:"송장번호 입력",size:"sm",type:"text",autocomplete:"off"},scopedSlots:e._u([{key:"append",fn:function(){return[r("CButton",{staticClass:"btn btn-light",attrs:{size:"sm"},on:{click:function(t){return e.updateStatus(n.delivery_id,n.delivery_company,n.invoice_num,n.order_description)}}},[e._v("배송중")])]},proxy:!0}],null,!0),model:{value:n.invoice_num,callback:function(t){e.$set(n,"invoice_num",t)},expression:"item.invoice_num"}})],1)]}}])})],1)],1)],1)},a=[],i=(r("d3b7"),r("ac1f"),r("25f0"),r("5319"),r("96cf"),r("1da1")),u=r("2409"),o=r("05e2"),s=(r("b30f"),{name:"AdminOrderList",data:function(){return{items:[],fields:[{key:"order_id",label:"주문번호",sorter:!1},{key:"user_id",label:"아이디"},{key:"user_name",label:"이름"},{key:"order_description",label:"주문내역",sorter:!1},{key:"registered",label:"주문일자"},{key:"amount",label:"가격",sorter:!1},{key:"payment_status",label:"상태",sorter:!1},{key:"show_details",label:"",sorter:!1}],delivery:{delivery_id:"",delivery_company:"",invoice_num:"",status_index:""},order:[],details:[],perPage:10}},paginationProps:{align:"center",doubleArrows:!0,previousButtonHtml:"prev",nextButtonHtml:"next"},mounted:function(){this.getOrderData()},methods:{refreshPage:function(){this.$router.go(0)},getBadge:function(e){return 1===e?"secondary":2===e?"success":3===e?"danger":"primary"},orderLink:function(e){return"/admin/orders/".concat(e.toString())},rowClicked:function(e){var t=this.orderLink(e.order_id);this.$router.push({path:t})},getOrderData:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u["a"](2,{idx:2});case 3:t=e.sent,this.items=t.data.result,e.next=9;break;case 7:e.prev=7,e.t0=e["catch"](0);case 9:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}(),getDate:function(e){var t=new Date(e);return t.toLocaleString()},numberWithCommas:function(e){if(e)return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},updateStatus:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t,r,n,a){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.delivery.delivery_company=r,this.delivery.invoice_num=n,this.delivery.status_index=2,!confirm(a+"의 배송 상태를 '배송중'으로 변경하시겠습니까?")){e.next=13;break}return e.prev=4,e.next=7,o["c"](t,{delivery:this.delivery});case 7:i=e.sent,"success"===i.data.code&&(alert("변경되었습니다"),this.refreshPage()),e.next=13;break;case 11:e.prev=11,e.t0=e["catch"](4);case 13:case"end":return e.stop()}}),e,this,[[4,11]])})));function t(t,r,n,a){return e.apply(this,arguments)}return t}()}}),c=s,d=r("2877"),l=Object(d["a"])(c,n,a,!1,null,"29c12746",null);t["default"]=l.exports}}]);
//# sourceMappingURL=chunk-1128ebda.80fe3ae2.js.map