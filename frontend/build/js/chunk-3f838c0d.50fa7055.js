(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3f838c0d"],{"0762":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("CRow",[r("CCol",{attrs:{col:"12"}},[r("CCard",[r("CCardHeader",[r("strong",[t._v(t._s(this.product_name)+" ")]),r("small",{staticClass:"text-muted"},[t._v(" "+t._s(t.$route.params.id)+" ")])]),r("CCardBody",[r("CDataTable",{attrs:{striped:"",small:"",fixed:"",items:t.items,fields:t.fields},scopedSlots:t._u([{key:"key",fn:function(e){var a=e.item;return[r("td",["index"===a.key?r("div",[t._v("번호")]):"prod_id"===a.key?r("div",[t._v("상품코드")]):"price"===a.key?r("div",[t._v("가격")]):"prod_name"===a.key?r("div",[t._v("상품명")]):"image_path"===a.key?r("div",[t._v("이미지")]):"type_index"===a.key?r("div",[t._v("상품분류")]):"status_index"===a.key?r("div",[t._v("상태")]):"detail"===a.key?r("div",[t._v("상품상세")]):"registered"===a.key?r("div",[t._v("등록일")]):"categ_index"===a.key?r("div",[t._v("메뉴")]):r("div",[t._v(t._s(a.key))])])]}},{key:"value",fn:function(e){var a=e.item;return[r("td",["price"===a.key?r("div",[r("CInput",{attrs:{type:"text",side:"sm",name:"price",autocomplete:"off"},model:{value:t.prod.price,callback:function(e){t.$set(t.prod,"price",e)},expression:"prod.price"}})],1):"prod_name"===a.key?r("div",[r("CInput",{attrs:{type:"text",side:"sm",name:"prod_name",autocomplete:"off"},model:{value:t.prod.prod_name,callback:function(e){t.$set(t.prod,"prod_name",e)},expression:"prod.prod_name"}})],1):"image_path"===a.key?r("div",[r("CInput",{attrs:{type:"text",side:"sm",name:"image_path",autocomplete:"off"},model:{value:t.prod.image_path,callback:function(e){t.$set(t.prod,"image_path",e)},expression:"prod.image_path"}})],1):"type_index"===a.key?r("div",[r("CSelect",{attrs:{options:["반지","목걸이","기타"],id:"type_index"},model:{value:t.prod_data.type,callback:function(e){t.$set(t.prod_data,"type",e)},expression:"prod_data.type"}})],1):"detail"===a.key?r("div",[r("quill-editor",{ref:"myTextEditor",attrs:{options:t.editorOption},on:{change:function(e){return t.onEditorChange(e)}},model:{value:t.prod.detail,callback:function(e){t.$set(t.prod,"detail",e)},expression:"prod.detail"}})],1):"status_index"===a.key?r("div",[r("CSelect",{attrs:{options:["NONE","NEW","HOT","SOLD OUT"],id:"status_index"},model:{value:t.prod_data.status,callback:function(e){t.$set(t.prod_data,"status",e)},expression:"prod_data.status"}})],1):"categ_index"===a.key?r("div",t._l(t.categories,(function(e,a){return r("CInputCheckbox",{key:a,attrs:{label:e,value:e,custom:!0,checked:t.getIndex(a),inline:!0},on:{"update:checked":function(e){return t.checkedCategory(a)}}})})),1):"registered"===a.key?r("div",[t._v(t._s(t.getDate(a.value)))]):r("div",[t._v(t._s(a.value))])])]}}])})],1),r("CCardFooter",[r("CButtonGroup",[r("CButton",{on:{click:t.goBack}},[t._v("뒤로")]),r("CButton",{attrs:{type:"submit"},on:{click:t.updateProductDetailData}},[t._v("수정완료")])],1)],1)],1)],1)],1)},n=[],i=(r("d81d"),r("b0c0"),r("4fad"),r("d3b7"),r("ac1f"),r("25f0"),r("5319"),r("3835")),o=(r("96cf"),r("1da1")),d=(r("a753"),r("8096"),r("14e1"),r("953d")),s=r("c4c8"),c=r("c405"),u={name:"AdminProductDetail",data:function(){return{prod:[],categories:[],checked_category:[],prod_data:{type:"",status:"",category:""},items:[],product_name:"",fields:[{key:"key",label:"분류",_style:"width:200px"},{key:"value",label:"정보"}],editorOption:{placeholder:"상품 정보를 입력하세요",modules:{toolbar:[["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["link","image"],["clean"]]}}}},components:{quillEditor:d["quillEditor"]},mounted:function(){this.getProductDetailData(this.$route.params.id)},methods:{goBack:function(){this.$router.go(-1)},goUpdate:function(){this.$router.push({path:"/admin/product/update/"+this.$route.params.id})},onEditorChange:function(t){t.editor;var e=t.html;t.text;this.prod.detail=e},getTypeOption:function(t){return 1===t?"반지":2===t?"목걸이":"기타"},getStatusOption:function(t){return 1===t?"NONE":2===t?"NEW":3===t?"HOT":"SOLD OUT"},checkedCategory:function(t){this.checked_category[t]=!this.checked_category[t]},updateProductDetailData:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,r,a,n,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(i in t.prev=0,e=document.getElementById("status_index"),r=document.getElementById("type_index"),this.prod.status_index=e.selectedIndex+1,this.prod.type_index=r.selectedIndex+1,a=[],n=0,this.checked_category)this.checked_category[i]&&(a[n++]=1*i+1);return this.prod.categ_objs=a,t.next=11,s["e"](this.prod.prod_id,{prod:this.prod});case 11:o=t.sent,"success"===o.data.code&&(this.$router.go(-1),alert(this.prod.prod_name+"의 제품정보가 수정되었습니다.")),t.next=17;break;case 15:t.prev=15,t.t0=t["catch"](0);case 17:case"end":return t.stop()}}),t,this,[[0,15]])})));function e(){return t.apply(this,arguments)}return e}(),getIndex:function(t){return this.checked_category[t]},getProductDetailData:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,r,a,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s["c"](this.$route.params.id);case 2:for(r in e=t.sent,this.prod=e.data.result[0],this.product_name=this.prod.prod_name,this.prod_data.type=this.getTypeOption(this.prod.type_index),this.prod_data.status=this.getStatusOption(this.prod.status_index),e.data.result)this.checked_category[e.data.result[r].categ_index-1]=!0;return t.next=10,c["d"]();case 10:for(n in e=t.sent,a=e.data.result,a)this.categories[n]=a[n].name;this.prod_data.category=this.categories[this.prod.categ_index-1],o=this.prod?Object.entries(this.prod):[["index","Not found"]],this.items=o.map((function(t){var e=Object(i["a"])(t,2),r=e[0],a=e[1];return{key:r,value:a}}));case 16:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),deleteProduct:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!confirm(this.product_name+" 제품을 삭제하시겠습니까?")){t.next=10;break}return t.prev=1,t.next=4,s["b"](this.$route.params.id);case 4:e=t.sent,"success"===e.data.code&&(this.goBack(),alert(this.product_name+" 제품이 삭제되었습니다")),t.next=10;break;case 8:t.prev=8,t.t0=t["catch"](1);case 10:case"end":return t.stop()}}),t,this,[[1,8]])})));function e(){return t.apply(this,arguments)}return e}(),getDate:function(t){var e=new Date(t);return e.toLocaleString()},numberWithCommas:function(t){if(t)return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}},computed:{editor:function(){return this.$refs.myTextEditor.quillEditor}}},p=u,l=r("2877"),h=Object(l["a"])(p,a,n,!1,null,null,null);e["default"]=h.exports},3835:function(t,e,r){"use strict";function a(t){if(Array.isArray(t))return t}r.d(e,"a",(function(){return o}));r("a4d3"),r("e01a"),r("d28b"),r("e260"),r("d3b7"),r("25f0"),r("3ca3"),r("ddb0");function n(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var r=[],a=!0,n=!1,i=void 0;try{for(var o,d=t[Symbol.iterator]();!(a=(o=d.next()).done);a=!0)if(r.push(o.value),e&&r.length===e)break}catch(s){n=!0,i=s}finally{try{a||null==d["return"]||d["return"]()}finally{if(n)throw i}}return r}}function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function o(t,e){return a(t)||n(t,e)||i()}}}]);
//# sourceMappingURL=chunk-3f838c0d.50fa7055.js.map