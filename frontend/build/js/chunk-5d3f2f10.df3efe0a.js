(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5d3f2f10"],{"05e2":function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return s})),r.d(t,"e",(function(){return o})),r.d(t,"d",(function(){return d})),r.d(t,"c",(function(){return c}));var a=r("bc3a"),i=r.n(a);function n(e,t){return i()({method:"get",url:"/api/deliveries/"+e,data:t})}function s(e,t){return i()({method:"get",url:"/api/deliveries/status/"+e,data:t})}function o(e,t){return i()({method:"put",url:"/api/deliveries/"+e,data:t})}function d(e,t){return i()({method:"put",url:"/api/deliveries/"+e+"/status",data:t})}function c(e,t){return i()({method:"put",url:"/api/deliveries/"+e+"/invoice_n_company",data:t})}},2409:function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return s})),r.d(t,"c",(function(){return o}));var a=r("bc3a"),i=r.n(a);function n(e,t){return i()({method:"get",url:"/api/payments/"+e,data:t})}function s(e,t){return i()({method:"get",url:"/api/payments/status/"+e,data:t})}function o(e,t){return i()({method:"put",url:"/api/payments/"+e+"/status",data:t})}},af62:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("CRow",[r("CCol",{attrs:{col:"12"}},[r("CCard",[r("CCardHeader",[e._v(" "+e._s(this.order.order_description)+" "),r("small",{staticClass:"text-muted"},[e._v(" "+e._s(e.$route.params.id)+" ")])]),r("CCardBody",[r("div",[r("CRow",[r("CCol",{staticClass:"bg-dark py-2"},[e._v(" 주문내역 ")])],1),r("table",{staticClass:"basket_table"},[r("tbody",e._l(e.product,(function(t){return r("tr",[r("td",[r("img",{attrs:{src:t.image_path,alt:"product"}})]),r("td",[r("p",{staticClass:"font_12"},[e._v(e._s(t.prod_name))]),r("p",{staticClass:"font_11"},[e._v(e._s(t.prod_id))]),r("p",{staticClass:"font_11"},[r("b",[e._v(e._s(t.prod_cnt)+"개")])]),r("p",{staticClass:"font_12"},[e._v("주문금액")])]),r("td",{staticClass:"font_12"},[e._v(e._s(e.numberWithCommas(t.tot_price))+"원")])])})),0)]),r("hr"),r("p",{staticClass:"float-right"},[e._v("총 주문금액 "),r("b",[e._v(e._s(e.numberWithCommas(this.order.tot_price))+"원")])]),r("br")],1),r("div",[r("br"),r("CRow",[r("CCol",{staticClass:"bg-dark py-2"},[e._v(" 주문정보 ")])],1),r("table",{staticClass:"table"},[r("tr",[r("td",[e._v("아이디")]),r("td",[e._v(" "+e._s(this.order.user_id))])]),r("tr",[r("td",[e._v("가격")]),r("td",[e._v(e._s(e.numberWithCommas(this.order.tot_price))+"원")])]),r("tr",[r("td",[e._v("주문내역")]),r("td",[e._v(e._s(this.order.order_description))])]),r("tr",[r("td",[e._v("주문일")]),r("td",[e._v(" "+e._s(e.getDate(this.order.registered)))])]),r("tr",[r("td",[e._v("받는 사람")]),r("td",[r("CInput",{attrs:{type:"text",side:"sm",name:"receiver_name",autocomplete:"off"},model:{value:e.delivery.receiver_name,callback:function(t){e.$set(e.delivery,"receiver_name",t)},expression:"delivery.receiver_name"}})],1)]),r("tr",[r("td",[e._v("연락처")]),r("td",[r("CInput",{attrs:{type:"text",side:"sm",name:"receiver_phone",autocomplete:"off"},model:{value:e.delivery.receiver_phone,callback:function(t){e.$set(e.delivery,"receiver_phone",t)},expression:"delivery.receiver_phone"}})],1)]),r("tr",[r("td",[e._v("비상 연락처")]),r("td",[r("CInput",{attrs:{type:"text",side:"sm",name:"emerge_phone",autocomplete:"off"},model:{value:e.delivery.emerge_phone,callback:function(t){e.$set(e.delivery,"emerge_phone",t)},expression:"delivery.emerge_phone"}})],1)]),r("tr",[r("td",[e._v("우편번호")]),r("td",[r("CInput",{attrs:{type:"text",side:"sm",name:"postcode",autocomplete:"off"},scopedSlots:e._u([{key:"append",fn:function(){return[r("CButton",{attrs:{type:"submit",color:"secondary"},on:{click:e.execDaumPostcode}},[e._v("우편번호 찾기")])]},proxy:!0}]),model:{value:e.delivery.receiver_postcode,callback:function(t){e.$set(e.delivery,"receiver_postcode",t)},expression:"delivery.receiver_postcode"}}),r("div",{directives:[{name:"show",rawName:"v-show",value:e.isSearch,expression:"isSearch"}],ref:"searchWindow",staticStyle:{border:"1px solid",width:"500px",margin:"5px 0",position:"relative"},style:e.searchWindow},[r("img",{staticStyle:{cursor:"pointer",position:"absolute",right:"0px",top:"-1px","z-index":"1"},attrs:{src:"//t1.daumcdn.net/postcode/resource/images/close.png",id:"btnFoldWrap",alt:"close"},on:{click:function(t){e.searchWindow.display="none"}}})])],1)]),r("tr",[r("td",[e._v("주소")]),r("td",[r("CInput",{attrs:{type:"text",side:"sm",name:"receiver_address",autocomplete:"off"},model:{value:e.delivery.receiver_address,callback:function(t){e.$set(e.delivery,"receiver_address",t)},expression:"delivery.receiver_address"}})],1)]),r("tr",[r("td",[e._v("상세주소")]),r("td",[r("CInput",{attrs:{type:"text",side:"sm",name:"address_detail",autocomplete:"off"},model:{value:e.delivery.receiver_address_detail,callback:function(t){e.$set(e.delivery,"receiver_address_detail",t)},expression:"delivery.receiver_address_detail"}})],1)]),r("tr",[r("td",[e._v("요청사항")]),r("td",[r("CInput",{attrs:{type:"text",side:"sm",name:"receiver_request",autocomplete:"off"},model:{value:e.delivery.receiver_request,callback:function(t){e.$set(e.delivery,"receiver_request",t)},expression:"delivery.receiver_request"}})],1)])])],1),r("div",[r("CRow",[r("CCol",{staticClass:"bg-dark py-2"},[e._v(" 결제정보 ")])],1),r("table",{staticClass:"table"},[r("tr",[r("td",[e._v("결제상태")]),r("td",[r("select",{directives:[{name:"model",rawName:"v-model",value:e.order_data.payment,expression:"order_data.payment"}],staticClass:"form-control",attrs:{id:"payment_status"},on:{change:[function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.order_data,"payment",t.target.multiple?r:r[0])},e.updatePaymentStatus]}},[r("option",{attrs:{value:"결제대기"}},[e._v("결제대기")]),r("option",{attrs:{value:"결제완료"}},[e._v("결제완료")]),r("option",{attrs:{value:"주문취소"}},[e._v("주문취소")]),r("option",{attrs:{value:"환불완료"}},[e._v("환불완료")])])])]),r("tr",{directives:[{name:"show",rawName:"v-show",value:1===this.payment.is_paid,expression:"this.payment.is_paid === 1"}]},[r("td",[e._v("결제일")]),r("td",[e._v(" "+e._s(e.getDate(this.payment.paid)))])])])],1),r("div",{directives:[{name:"show",rawName:"v-show",value:1===this.payment.is_paid,expression:"this.payment.is_paid === 1"}]},[r("CRow",[r("CCol",{staticClass:"bg-dark py-2"},[e._v(" 배송정보 ")])],1),r("table",{staticClass:"table"},[r("tr",[r("td",[e._v("송장번호")]),r("td",[r("CInput",{attrs:{type:"text",side:"sm",name:"invoice_num",autocomplete:"off"},model:{value:e.delivery.invoice_num,callback:function(t){e.$set(e.delivery,"invoice_num",t)},expression:"delivery.invoice_num"}})],1)]),r("tr",[r("td",[e._v("배송회사")]),r("td",[r("CInput",{attrs:{type:"text",side:"sm",name:"delivery_company",autocomplete:"off"},model:{value:e.delivery.delivery_company,callback:function(t){e.$set(e.delivery,"delivery_company",t)},expression:"delivery.delivery_company"}})],1)]),r("tr",[r("td",[e._v("배송상태")]),r("td",[r("select",{directives:[{name:"model",rawName:"v-model",value:e.order_data.delivery,expression:"order_data.delivery"}],staticClass:"form-control",attrs:{id:"delivery_status"},on:{change:[function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.order_data,"delivery",t.target.multiple?r:r[0])},e.updateDeliveryStatus]}},[r("option",{attrs:{value:"상품준비중"}},[e._v("상품준비중")]),r("option",{attrs:{value:"배송준비중"}},[e._v("배송준비중")]),r("option",{attrs:{value:"배송중"}},[e._v("배송중")]),r("option",{attrs:{value:"배송완료"}},[e._v("배송완료")])])])]),r("tr",{directives:[{name:"show",rawName:"v-show",value:1===this.delivery.is_delivered,expression:"this.delivery.is_delivered === 1"}]},[r("td",[e._v("배송일")]),r("td",[e._v(" "+e._s(e.getDate(this.delivery.delivered)))])])])],1)]),r("CCardFooter",[r("CButtonGroup",{staticClass:"h_center"},[r("CButton",{attrs:{color:"btn btn-light"},on:{click:e.updateReceiverInfo}},[e._v("주문정보 변경")]),r("CButton",{attrs:{color:"btn btn-light"},on:{click:e.goBack}},[e._v("목록")])],1)],1)],1)],1)],1)},i=[],n=(r("d81d"),r("b0c0"),r("d3b7"),r("ac1f"),r("25f0"),r("5319"),r("96cf"),r("1da1")),s=r("b30f"),o=r("2409"),d=r("05e2"),c={name:"AdminUserDetail",data:function(){return{product:[],order:[],payment:[],delivery:{receiver_address:"",receiver_address_detail:""},receiver:{name:"",phone:"",emerge_phone:"",postcode:"",address:"",address_detail:"",request:""},order_data:{payment:"",delivery:""},isSearch:!1,searchWindow:{display:"none",height:"300px"}}},mounted:function(){this.getOrderDetailData(this.$route.params.id)},methods:{goBack:function(){this.$router.go(-1)},refreshPage:function(){this.$router.go(0)},goUpdate:function(){this.$router.push({path:"/admin/users/update/"+this.$route.params.id})},getBadge:function(e){return 1===e?"success":2===e?"secondary":3===e?"danger":"primary"},getData:function(e){alert(e.target.value)},getOrderDetailData:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s["a"](t);case 2:r=e.sent,this.order=r.data.result[0],this.getProductDetailData(t),this.getPaymentDetailData(this.order.payment_id),this.getDeliveryDetailData(this.order.delivery_id);case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getProductDetailData:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s["c"](t);case 2:r=e.sent,this.product=r.data.result;case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getPaymentDetailData:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o["b"](t);case 2:r=e.sent,this.payment=r.data.result[0],this.order_data.payment=this.getPaymentStatusOption(this.payment.status_index);case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getDeliveryDetailData:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,d["a"](t);case 2:r=e.sent,this.delivery=r.data.result[0],this.order_data.delivery=this.getDeliveryStatusOption(this.delivery.status_index);case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getDate:function(e){var t=new Date(e);return t.toLocaleString()},getPaymentStatusOption:function(e){return 1===e?"결제대기":2===e?"결제완료":3===e?"주문취소":"환불완료"},getDeliveryStatusOption:function(e){return 1===e?"상품준비중":2===e?"배송준비중":3===e?"배송중":"배송완료"},numberWithCommas:function(e){if(e)return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},updatePaymentStatus:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r="결제대기"===t.target.value?1:"결제완료"===t.target.value?2:"주문취소"===t.target.value?3:4,!confirm("결제 상태를 "+t.target.value+"로 변경하시겠습니까?")){e.next=11;break}return e.prev=2,e.next=5,o["c"](this.payment.payment_id,{payment:{status_index:r}});case 5:a=e.sent,"success"===a.data.code&&(alert("변경되었습니다"),this.refreshPage()),e.next=11;break;case 9:e.prev=9,e.t0=e["catch"](2);case 11:case"end":return e.stop()}}),e,this,[[2,9]])})));function t(t){return e.apply(this,arguments)}return t}(),updateDeliveryStatus:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r="배송준비중"===t.target.value?2:"배송중"===t.target.value?3:"배송완료"===t.target.value?4:1,this.delivery.status_index=r,!confirm("배송 상태를 "+t.target.value+"로 변경하시겠습니까?")){e.next=12;break}return e.prev=3,e.next=6,d["c"](this.delivery.delivery_id,{delivery:this.delivery});case 6:a=e.sent,"success"===a.data.code&&(alert("변경되었습니다"),this.refreshPage()),e.next=12;break;case 10:e.prev=10,e.t0=e["catch"](3);case 12:case"end":return e.stop()}}),e,this,[[3,10]])})));function t(t){return e.apply(this,arguments)}return t}(),updateReceiverInfo:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.receiver.name=this.delivery.receiver_name,this.receiver.phone=this.delivery.receiver_phone,this.receiver.emerge_phone=this.delivery.emerge_phone,this.receiver.postcode=this.delivery.receiver_postcode,this.receiver.address=this.delivery.receiver_address,this.receiver.address_detail=this.delivery.receiver_address_detail,this.receiver.request=this.delivery.receiver_request,e.next=10,d["e"](this.delivery.delivery_id,{receiver:this.receiver});case 10:t=e.sent,"success"===t.data.code&&(alert("변경되었습니다"),this.refreshPage()),e.next=16;break;case 14:e.prev=14,e.t0=e["catch"](0);case 16:case"end":return e.stop()}}),e,this,[[0,14]])})));function t(){return e.apply(this,arguments)}return t}(),execDaumPostcode:function(){var e=this;this.isSearch=!0;var t=Math.max(document.body.scrollTop,document.documentElement.scrollTop);new daum.Postcode({onComplete:function(r){"R"===r.userSelectedType?e.delivery.receiver_address=r.roadAddress:e.delivery.receiver_address=r.jibunAddress,"R"===r.userSelectedType?(""!==r.bname&&/[동|로|가]$/g.test(r.bname)&&(e.delivery.receiver_address_detail+=r.bname),""!==r.buildingName&&"Y"===r.apartment&&(e.delivery.receiver_address_detail+=""!==e.delivery.receiver_address_detail?", ".concat(r.buildingName):r.buildingName),""!==e.delivery.receiver_address_detail&&(e.delivery.receiver_address_detail=" (".concat(e.delivery.receiver_address_detail,")"))):e.delivery.receiver_address_detail="",e.delivery.receiver_postcode=r.zonecode,e.searchWindow.display="none",document.body.scrollTop=t},onResize:function(t){e.searchWindow.height="".concat(t.height,"px")},width:"100%",height:"100%"}).embed(this.$refs.searchWindow),this.searchWindow.display="block"}},computed:{rawColumnNames:function(){return this.fields?this.fields.map((function(e){return e.key||e})):this.generatedColumnNames},columnNames:function(){var e=this;return this.fields?this.fields.map((function(t){return void 0!==t.label?t.label:e.pretifyName(t.key||t)})):this.rawColumnNames.map((function(t){return e.pretifyName(t)}))},dragOptions:function(){return{animation:0,group:"description",disabled:!1,ghostClass:"ghost"}}}},u=c,l=r("2877"),v=Object(l["a"])(u,a,i,!1,null,null,null);t["default"]=v.exports}}]);
//# sourceMappingURL=chunk-5d3f2f10.df3efe0a.js.map